<html>
<head>
	<title>Shard - Project Progress</title>
	<link rel="icon" type="image/x-icon" href="images/favicon.ico">
	<script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script id="headernav-loader" src="scripts/insertHeader.js"></script>

	<link rel="stylesheet" href="style.css">
	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
	<script type="text/javascript">
		google.charts.load('current', {'packages':['gantt']});
		google.charts.setOnLoadCallback(drawChart);

		function daysToMilliseconds(days) {
			return days * 24 * 60 * 60 * 1000;
		}

		/* Define row data by sections for easier reading */
		requirementRows = [
			//['Requirements', 'Requirements Elicitation', "Requirements",
			//new Date(2021, 10, 10), new Date(2021, 11, 3), null,  0,  null],

			['ReviewExisting', 'Review Existing Systems', "Requirements",
			null, null, daysToMilliseconds(4),  0,  null],

			['Interview1', 'Conduct Interview', "Requirements",
			new Date(2021, 10, 29), null, daysToMilliseconds(1),  0,  ""],

			['Prototype', 'Low-fidelity Prototype', "Requirements",
			null, null, daysToMilliseconds(3),  0,  "Interview1,ReviewExisting"],

			['Interview2', 'Conduct 2nd Interview', "Requirements",
			null, null, daysToMilliseconds(1),  0,  "Prototype"],

			['WriteUpRequirements', 'Write Up Requirements', "Requirements",
			null, null, daysToMilliseconds(7),  0,  "Interview2"],
		]

		designRows = [
			//['Design', 'Design', "Design",
			//null, null, daysToMilliseconds(7), 0, 'Interview1'],

			['DesignBack', 'Design Backend', "Design",
			null, null, daysToMilliseconds(7),  1,  "Interview1"],

			['DesignFront', 'Design Frontend', "Design",
			null, null, daysToMilliseconds(7),  0,  "Interview1"],
		]

		implementationRows = [
			['ImplementBack', 'Implement Backend', "Implementation",
			null, null, daysToMilliseconds(7*3),  1,  "DesignBack"],

			['ImplementFront', 'Implement Frontend', "Implementation",
			null, null, daysToMilliseconds(7*3),  0,  "DesignFront"],

			['ImplementBoth', 'Frontend/Backend Integration', "Implementation",
			null, null, daysToMilliseconds(7*3),  0,  "DesignFront,DesignBack"],
		]

		function drawChart() {

			var data = new google.visualization.DataTable();
			data.addColumn('string', 'Task ID');
			data.addColumn('string', 'Task Name');
			data.addColumn('string', 'Resource');
			data.addColumn('date', 'Start Date');
			data.addColumn('date', 'End Date');
			data.addColumn('number', 'Duration');
			data.addColumn('number', 'Percent Complete');
			data.addColumn('string', 'Dependencies');

			rowData = [
				['Test', 'Testing and Verification', "Test",
				null, null, daysToMilliseconds(2), 0, 'ImplementBoth'],

				['Deploy', 'Deployment and Maintenance', "Deploy",
				null, null, daysToMilliseconds(1), 0, 'Test']
			]

			rowData.push(...requirementRows)
			rowData.push(...designRows)
			rowData.push(...implementationRows)

			data.addRows(rowData);

			var options = {
				/* dynamically scale graph as needed */
				height: data.getNumberOfRows()*42+38,
				backgroundColor: {
        			fill: '#2e2e2e',
     			},
				gantt: {
					criticalPathEnabled: true,
					labelStyle: {
						fontSize: 14,
						color: 'white'
					},
					arrow: {
						//angle: 50,
						width: 1.4,
						color: '#beb9b0',
						radius: 15
					},
				},
			};


			var chart = new google.visualization.Gantt(document.getElementById('chart_div'));

			chart.draw(data, options);
		}
	</script>
</head>

<div id="headernav"></div>

<body>
	<h2>ENG1 Project Progress</h2>
	<div id="chart_div"></div>
</body>
</html>
